define("function-widget-1:qrCode/service/panel.js",function(i,t,s){function e(i){this._mUI=i,this._mPrivateFlags=0,this._mCoor=[]}var a=i("base:widget/libs/jquerypacket.js");e.VISIBLE=1,e.TOP=4096,e.RIGHT=8192,e.BOTTOM=16384,e.LEFT=32768,e.CENTER=65536,e.prototype={setVisible:function(i){var t=(this._mPrivateFlags&e.VISIBLE)==e.VISIBLE;i!==t&&(i?(this._mPrivateFlags|=e.VISIBLE,this._mUI.pane.style.display="block"):(this._mPrivateFlags&=~e.VISIBLE,this._mUI.pane.style.display="none"),this.onVisibilityChange(i))},setVisibleAnimation:function(i,t){var s=(this._mPrivateFlags&e.VISIBLE)==e.VISIBLE;i!==s&&(i?(this._mPrivateFlags|=e.VISIBLE,a(this._mUI.pane).css({display:"block",opacity:0}).animate({opacity:t},500)):(this._mPrivateFlags&=~e.VISIBLE,a(this._mUI.pane).hide().css("opacity",0)),this.onVisibilityChange(i))},isVisible:function(){return(this._mPrivateFlags&e.VISIBLE)==e.VISIBLE},setSize:function(i,t){this._mUI.pane.style.width=i+"px",this._mUI.pane.style.height=t+"px"},setLocation:function(i,t){t=Math.max(0,t),this._mUI.pane.style.left=i+"px",this._mUI.pane.style.top=t+"px",this._mCoor[0]=i,this._mCoor[1]=t},getLocation:function(){return this._mCoor},setGravity:function(i){switch(i){case e.LEFT:this.setLocation(0,0);break;case e.CENTER:this.setLocation((a(window).width()-this._mUI.pane.offsetWidth)/2,(a(window).height()-this._mUI.pane.offsetHeight)/2+a(window).scrollTop());break;case e.TOP:this.setLocation((a(window).width()-this._mUI.pane.offsetWidth)/2,65)}},onVisibilityChange:function(){}},s.exports=e});
;define("function-widget-1:qrCode/service/twoDimension.js",function(t,e,i){function n(){return s.uniqueId("TwoDimension_")}function o(t,e,i,n){return'<div id="'+t+'" class="dialog_two_dimension_code '+n+'"><div class="inner_two_dimension_code"><div class="two_dimension_code_'+i+("down"==i?" rotate-3":"")+'"></div><div title="'+e+'" class="two_dimension_code_main" ></div></div></div>'}function a(t){c("#"+t.id).remove(),this.target=t.target||null,this.topOffset=t.topOffset||0,this.leftOffset=t.leftOffset||0,this.imgSrc=t.imgSrc||"",this.imgTit=t.imgTit||"",this._targetId=t.id||n(),this.flagAddIframe=t.flagAddIframe||!1,this.imgDes=t.imgDes||"扫描或点击二维码立即安装",this.clickUrl=t.clickUrl||"//pan.baidu.com/download",this.panl=null,this.arrowPos=t.arrowPos||"top",this.changetextdec=t.changetextdec||!1,this.showsource=t.showsource||"",this.className=t.className||"",this.hoverCallBack=t.hoverCallBack||null,this.leaveCallBack=t.leaveCallBack||null,this.panlclick=t.panlclick,this.timer=null,l.call(this,this._prebuild()),this.bindEvent()}var s=t("base:widget/libs/underscore.js"),c=t("base:widget/libs/jquerypacket.js"),l=t("function-widget-1:qrCode/service/panel.js");a.prototype=new l,a.prototype.constructor=a,a.prototype._prebuild=function(){function t(t){n.panl.find(".two_dimension_code_main").html("").append(t).find("img").css("marginTop",10);var e='<div class="two_dimension_code_bottom">'+n.imgDes+"</div>";n.panl.find(".inner_two_dimension_code").append(e)}function e(){var t="生成失败，<a href='javascript:void(0);' class='retryBtn'>重试一下</a>";n.panl.find(".two_dimension_code_main").html(t),n.panl.find(".retryBtn").click(i)}function i(){n.panl.find(".two_dimension_code_main").html("正在生成二维码……"),n.panl.find(".two_dimension_code_bottom").remove();var i=new Image;i.src=n.imgSrc||"",i.onload=function(){(1==i.complete||"complete"==i.readyState||"loaded"==i.readyState)&&t(i)},i.onerror=e}var n=this,a=o(this._targetId,this.imgTit,this.arrowPos,this.className);return c(document.body).append(a),this.panl=c("#"+this._targetId),i(),{pane:this.panl[0]}},a.prototype.bindEvent=function(){function t(t){var e=t?"underline":"none",n=i.target;"A"==n.attr("tagName")?n.css("textDecoration",e):n.find("a").css("textDecoration",e)}function e(){window.open(i.clickUrl)}var i=this;this.target&&this.target.mouseenter(function(){i.changetextdec||t(!0),i.setVisible(!0)}).mouseleave(function(){t(!1),i.timer=setTimeout(function(){i.setVisible(!1)},100)}),this.panl&&i.panl.mouseover(function(){i.changetextdec||t(!0),"function"==typeof i.hoverCallBack&&i.hoverCallBack(),clearTimeout(i.timer),i.setVisible(!0)}).mouseleave(function(){t(!1),i.setVisible(!1),"function"==typeof i.leaveCallBack&&i.leaveCallBack()}),i.panlclick||(i.panl&&i.panl.click(e),i.target&&i.target.click(e))};var r=n();a.prototype.setVisible=function(t){function e(){var t=i.target.width()+parseInt(i.target.css("paddingLeft"),10),e=i.target.offset(),n=e.left-10,o=e.top+i.topOffset+18,a=c(window).width(),s=a===i.panl.width()?182:i.panl.width();return n+=t-s+i.leftOffset,{x:n,y:o}}var i=this,n={};if(t&&this.target&&(n=e(),this.setLocation(n.x,n.y)),"down"==this.arrowPos&&(c(".dialog_two_dimension_code").css("paddingBottom","9px"),c(".iframe_two_dimension_code").css("height","200px")),this.flagAddIframe){var o=c("#"+r);o.length||(c(document.body).append('<iframe src="about:blank" id="'+r+'" class="iframe_two_dimension_code" frameborder="0"></iframe>'),o=c("#"+r)),o.css(t?{left:n.x,top:n.y,zIndex:888,display:"block"}:{display:"none"})}l.prototype.setVisible.call(this,t)},i.exports=a});
;define("function-widget-1:qrCode/start.js",function(e,n,r){function t(e,n){var r=new RegExp("(^|&)"+n+"=([^&]*)","i");return e.replace(r,"")}var s=e("base:widget/libs/jquerypacket.js"),o=e("function-widget-1:qrCode/service/twoDimension.js"),i=window.yunData||{};r.exports.mouseEnter=function(){if(0===s(".default_qr").length){var e,n;if(1===i.FILEINFO.length){var r=i.FILEINFO[0].server_filename.split(".");e=r[r.length-1],e=e.length>10?"na":e}else i.FILEINFO.length>1&&(e="multi");if(n=location.origin+location.pathname,location.search.length){var a=location.search.substring(1);a.indexOf("errno")&&(a=t(a,"errno")),a.indexOf("errmsg")&&(a=t(a,"errmsg")),a.indexOf("stoken")&&(a=t(a,"stoken")),a.indexOf("ssnerror")&&(a=t(a,"ssnerror")),a.indexOf("bduss")&&(a=t(a,"bduss")),a&&a.length&&(n+="?"+a)}var l=s("#shareqr").hasClass("down"),c="/share/qrcode?w=148&h=148&url="+encodeURIComponent(n+"&qrfrom=1&qrtype="+e),d=l?"down":"top",f=l?-224:8,g=new o({target:s(".icon-qrcode").parents(".g-button"),imgSrc:c,imgTit:"",flagAddIframe:!0,imgDes:"扫描二维码，将文件发送到手机",topOffset:f,changetextdec:!0,panlclick:!0,arrowPos:d,showsource:"shareqr",className:"default_qr"});g.setVisible(!0)}},r.exports.start=function(e,n){0===s(".appoint_qr").length&&(n.className="appoint_qr",new o(n))}});