define("disk-share:static/js/pcsDownloadUtil.js",function(t,s,n){var i=t("base:widget/libs/jquerypacket.js"),e=t("base:widget/tools/tools.js"),o=function(){throw new Error("can not be instantiated")};o.fixMultiDomain=function(t,s){var n="",i=0,e="https:"===document.location.protocol;return e?t:(this.currentDomainIndex>=this.domains.length&&(this.currentDomainIndex=0),i=s?s:this.currentDomainIndex++,"string"==typeof t&&(n=t.replace(this.defaultDomain,this.domains[i])),n)},o._sList=null,o._sIndex=-1,o._sConnectedIndex=-1,o._sResult=0,o._path=null,o._sRevision=0,o.currentDomainIndex=0,o.defaultDomain="d.pcs.baidu.com",o.domains=["d0.pcs.baidu.com","d1.pcs.baidu.com","d2.pcs.baidu.com","d3.pcs.baidu.com","d4.pcs.baidu.com","d5.pcs.baidu.com","d6.pcs.baidu.com","d7.pcs.baidu.com","d8.pcs.baidu.com","d9.pcs.baidu.com"],o._getHostList=function(t){i.ajax({url:"https://d.pcs.baidu.com/rest/2.0/pcs/manage?method=listhost&t="+(new Date).getTime(),method:"get",dataType:"jsonp",success:function(s){s&&s.list&&(o._path=s.path,o._sList=s.list,o._sRevision=s.rev||0,o._startTesting(t))},error:function(){"function"==typeof t&&t.call(o,0)}})},o._startTesting=function(t){o._sIndex++;var s=o._sList[o._sIndex];if(o._sIndex<o._sList.length){var n=new Image;n.onload=function(){o._sConnectedIndex=o._sIndex,o._sResult+=s.id,o._startTesting(t)},n.onerror=function(){o._startTesting(t)},n.src="//"+s.host+(o._path||"/monitor.jpg?xcode=1a81b0bbd448fc368d78cc336e28561a")+(new Date).getTime()}else"function"==typeof t&&t.call(o,1,o._sConnectedIndex,o._sList,o._sResult,o._sRevision,o._path)},o.initPcsDownloadCdnConnectivity=function(t){this._getHostList(function(s,n,i,o,c,a){1==s&&(e.setCookie("cflag",o+":"+c,10,"/",".baidu.com"),a&&"function"==typeof t&&t.call(null,a))})},n.exports=o});